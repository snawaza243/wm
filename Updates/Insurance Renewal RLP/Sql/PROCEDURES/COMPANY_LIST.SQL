create or replace PROCEDURE             psm_ir_Get_company (   
    P_ERRORMESSAGE     OUT VARCHAR2,
    P_CURSOR           OUT SYS_REFCURSOR)
AS
    
BEGIN
    P_ERRORMESSAGE := NULL;

    BEGIN
        OPEN P_CURSOR FOR SELECT COMPANY_NAME,COMPANY_CD FROM BAJAJ_COMPANY_MASTER ORDER BY COMPANY_NAME;

    EXCEPTION
        WHEN OTHERS
        THEN
            P_ERRORMESSAGE := SQLERRM (SQLCODE);

            OPEN P_CURSOR FOR SELECT '' || P_ERRORMESSAGE || '' FROM DUAL;
    END;
END;