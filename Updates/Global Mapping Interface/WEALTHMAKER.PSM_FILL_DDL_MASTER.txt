CREATE OR REPLACE PROCEDURE WEALTHMAKER.PSM_FILL_DDL_MASTER(
    P_VALUE1    IN  VARCHAR2, -- TYPE1 = DDL, CHK
    P_VALUE2    IN  VARCHAR2, -- TYPE12 = from (GMF_MAPPING_FOR, SALUTATION)
    P_CURSOR1   OUT SYS_REFCURSOR,
    P_CURSOR2   OUT SYS_REFCURSOR
) AS 
BEGIN
    -- Check if both P_VALUE1 and P_VALUE2 are not null or empty
    IF TRIM(P_VALUE1) IS NOT NULL AND TRIM(P_VALUE2) IS NOT NULL THEN
        OPEN P_CURSOR1 FOR
            SELECT * 
            FROM WEALTHMAKER.PSM_GLOBAL_WORKING_DATA 
            WHERE DATA_TYPE_1 = UPPER(TRIM(P_VALUE1)) 
              AND DATA_TYPE_2 = UPPER(TRIM(P_VALUE2));
        RETURN;
    END IF;
    
    -- Optionally, add logic for P_CURSOR2 if required.
    -- OPEN P_CURSOR2 FOR 
    -- SELECT * FROM SOME_OTHER_TABLE WHERE CONDITION;

END;

 