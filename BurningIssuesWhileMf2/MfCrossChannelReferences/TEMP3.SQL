GETINVESTORDETAILSBYDOCID
PRC_VALIDATE_CROSS_CHNL_INFO
PSM_AO_C_VALIDATE

SELECT * FROM INVESTOR_MASTER WHERE pan = 'AINPA7739D';


SELECT *
FROM INVESTOR_MASTER a
WHERE a.TIMEST > TO_DATE('01-JAN-2025','DD-MON-YYYY');


select inv_code from tb_doc_upload where common_id = '11629684'; -- 30045286049


DECLARE
    V_COUNT INTEGER;
BEGIN
    WEALTHMAKER.PRC_VALIDATE_CROSS_CHNL_INFO(
        PCOMMON_ID     => '11629684',
        PSUB_CLIENT_CD => '30045286049',
        PLOGIN_ID      => '121397',
        PCNT           => V_COUNT
    );
    DBMS_OUTPUT.PUT_LINE('Cross Channel Count = ' || V_COUNT);
END;
/


  DELETE FROM WEALTHMAKER.CROSS_CHANNEL_INVESTOR_INFO WHERE COMMON_ID = '11629684' AND LOGGEDUSERID = '121397';


update CROSS_CHANNEL_INVESTOR_INFO 
set LOGGEDUSERID = '121397' where COMMON_ID = '11629684' ;


select LOGGEDUSERID from CROSS_CHANNEL_INVESTOR_INFO where COMMON_ID = '11629684' ;

update investor_master 
set pan = '', mobile='', email = ''
where inv_code = '30045286049';

SELECT UPPER(TRIM(SUBSTR(PAN,1,10))), MOBILE,   UPPER(EMAIL), VALIDATEPAN(UPPER(TRIM(SUBSTR(PAN,1,10)))), VALIDATE_MOBILE(MOBILE),  VALIDATE_EMAIL(UPPER(EMAIL))
--INTO VPAN,                            VMOBILE,  VEMAIL,       ISVALIDPAN,                                 ISVALIDMOBILE,            ISVALIDEMAIL
FROM WEALTHMAKER.INVESTOR_MASTER
WHERE INV_CODE = '30045286049';
    

SELECT COUNT(*) --INTO VCNT
FROM WEALTHMAKER.CROSS_CHANNEL_INVESTOR_INFO
WHERE COMMON_ID = '11629684'
AND LOGGEDUSERID = '121397';


 SELECT NVL(A.ADDRESS1,' '),NVL(A.ADDRESS2,' '),NVL(B.CITY_NAME,' '),NVL(C.STATE_NAME,' '),NVL(A.MOBILE,0),NVL(A.EMAIL,' '),NVL(A.PINCODE,' '),NVL(UPPER(A.PAN),' '),A.AADHAR_CARD_NO,A.DOB,INVESTOR_NAME, INV_CODE, A.CITY_ID
   -- INTO V_ADD1, V_ADD2, V_CITY_NAME, V_STATE_NAME, V_MOBILE, V_EMAIL, V_PIN, V_PAN, V_AADHAR, V_DOB, V_INV_NAME, V_INV_CODE
    FROM INVESTOR_MASTER A,CITY_MASTER B, STATE_MASTER C WHERE A.CITY_ID=B.CITY_ID(+) AND B.STATE_ID=C.STATE_ID(+) 