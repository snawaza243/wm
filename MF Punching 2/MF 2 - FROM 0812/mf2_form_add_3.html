<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MF Punching Interface</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- jQuery UI -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">

    <style>
        /* Loader Overlay with Relaxing Yellow Background */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 223, 128, 0.4);
            /* Soft warm yellow */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1050;
            display: none;
            /* Initially hidden */
        }

        /* Centered Spinner Container */
        .spinner-container {
            position: relative;
            width: 80px;
            height: 80px;
        }

        /* Spinner with a Larger Size */
        .spinner-border {
            width: 80px;
            height: 80px;
            border-width: 5px;
            color: #FFC107;
            /* Bootstrap warning yellow */
            animation: spin 1s linear infinite;
        }

        /* Rupee Sign Positioned in the Center */
        .rupee-sign {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 16px;
            font-weight: bold;
            color: #333;
            /* Dark color for contrast */
            font-family: Arial, sans-serif;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .error-message {
            display: block;
            margin-top: 2px;
            font-size: 12px;
            /* Small and compact */
            color: red;
        }

        .wmTabs .nav-link.active {
            font-weight: bold;
            border-bottom: 3px solid #0d6efd;
        }

        .draggable {
            cursor: move;
        }

        .print-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #000;
        }

        .print-table th,
        .print-table td {
            border: 1px solid #000;
            padding: 8px;
        }

        .print-table th {
            background-color: #f2f2f2;
        }

        .floating-panel {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        .client-search-section {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
    </style>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            function handleTabsPersistence(tabContainerId, storageKey) {
                // Restore last active tab from localStorage
                let savedTab = localStorage.getItem(storageKey);
                if (savedTab) {
                    $(`${tabContainerId} a[href="${savedTab}"]`).tab('show');
                }

                // When a tab is clicked → store it in localStorage
                $(`${tabContainerId} a[data-bs-toggle="tab"]`).on('shown.bs.tab', function (e) {
                    let currentTab = $(e.target).attr("href");
                    localStorage.setItem(storageKey, currentTab);
                    console.log("Saved active tab:", currentTab);
                });
            }

            function makeBootstrapModalsDraggable() {
                $(document).on('shown.bs.modal', '.modal', function () {
                    var $modal = $(this);
                    var $dialog = $modal.find('.modal-dialog');
                    var $header = $modal.find('.modal-header');

                    if ($header.length === 0) return; // needs header to drag

                    let isDragging = false, startX = 0, startY = 0, origX = 0, origY = 0;

                    $header.css('cursor', 'move');

                    $header.off('mousedown.modaldrag').on('mousedown.modaldrag', function (e) {
                        isDragging = true;
                        startX = e.clientX;
                        startY = e.clientY;

                        // current offset of modal-dialog
                        const rect = $dialog[0].getBoundingClientRect();
                        origX = rect.left;
                        origY = rect.top;

                        // disable Bootstrap centering transform
                        $dialog.css('transform', 'none');
                        e.preventDefault();
                    });

                    $(document).off('mousemove.modaldrag').on('mousemove.modaldrag', function (e) {
                        if (!isDragging) return;

                        let dx = e.clientX - startX;
                        let dy = e.clientY - startY;

                        $dialog.css({
                            position: 'absolute',
                            margin: 0,
                            left: origX + dx,
                            top: origY + dy
                        });
                    });

                    $(document).off('mouseup.modaldrag').on('mouseup.modaldrag', function () {
                        isDragging = false;
                    });

                    // reset position when modal closes
                    $modal.off('hidden.bs.modal.dragreset').on('hidden.bs.modal.dragreset', function () {
                        $dialog.attr('style', ''); // reset all inline styles
                    });
                });
            }

            function enableModalAutoReset(modal) {

                // internal helper that clears modal contents
                function resetOpenedModal(modal) {
                    var $m = $(modal);

                    // inputs
                    $m.find('input').each(function () {
                        var t = (this.type || '').toLowerCase();
                        if (t === 'checkbox' || t === 'radio') {
                            this.checked = false;
                        } else {
                            this.value = '';
                        }
                    });

                    // textareas
                    $m.find('textarea').val('');

                    // selects
                    $m.find('select').each(function () {
                        this.selectedIndex = -1;
                    });

                    // tables → clear tbody
                    $m.find('table tbody').empty();
                }

                // bind once
                $(document).off('hidden.bs.modal.autoreset')
                    .on('hidden.bs.modal.autoreset', '.modal', function () {
                        resetOpenedModal(this);
                    });
            }

            function managePersistentModalSession() {
                const storageKey = "psmModelOpen1";

                // --- 1. On page load, restore modal if stored in sessionStorage ---
                $(function () {
                    const lastModalId = sessionStorage.getItem(storageKey);
                    if (lastModalId) {
                        const modalEl = document.getElementById(lastModalId);
                        if (modalEl) {
                            const bsModal = new bootstrap.Modal(modalEl);
                            bsModal.show();
                        }
                    }
                });

                // --- 2. When any modal is shown, store its ID in sessionStorage ---
                $(document).off('show.bs.modal.persistentSession').on('show.bs.modal.persistentSession', '.modal', function () {
                    sessionStorage.setItem(storageKey, this.id);
                });

                // --- 3. When modal is closed via close button, clear sessionStorage ---
                $(document).off('click.persistentCloseSession').on('click.persistentCloseSession', '.close-modal', function () {
                    const modalId = $(this).data("modal-id");
                    const modalEl = document.getElementById(modalId);
                    if (!modalEl) return;

                    const bsModal = bootstrap.Modal.getInstance(modalEl);
                    if (bsModal) bsModal.hide();

                    // Clear sessionStorage if it matches
                    if (sessionStorage.getItem(storageKey) === modalId) {
                        sessionStorage.removeItem(storageKey);
                    }
                });
            }

            handleTabsPersistence("#wmTabs", "mf2_activeTab");
            makeBootstrapModalsDraggable();
            managePersistentModalSession();

            function handleSchemeTranType(dropdownId) {
                var value = document.querySelector(dropdownId).value;

                if (!value || value.trim() === "") {
                    alert("Please select a transaction type before searching.");
                    return false; // ❌ stop modal open
                }

                return true; // ✅ allow modal open
            }
        

            function handlePaymentChange(ddlChe, lblCheNo, lblCheDt, txtChecValue, txtCheDt) {
                    $(ddlChe).on("change", function () {
                        var selected = $(this).val();

                        if (selected === "CHEQUE") {
                            $(lblCheNo).text("Cheque No");
                            $(lblCheDt).text("Cheque Dated");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        } 

                        else if (selected === "DRAFT") {
                            $(lblCheNo).text("Draft No");
                            $(lblCheDt).text("Draft Date");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        } 
                        else if (selected === "ECS") {
                            $(lblCheNo).text("ECS Reference No");
                            $(lblCheDt).text("ECS Date");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        } 
                        else if (selected === "CASH") {
                            $(lblCheNo).text("Cash Amount");
                            $(lblCheDt).text("Cash Payment Date");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        }  
                        else if (selected === "RTGS") {
                            $(lblCheNo).text("RTGS Transaction No");
                            $(lblCheDt).text("RTGS Date");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        } 
                        else if (selected === "FUND_TRANSFER") {
                            $(lblCheNo).text("Fund Transfer No");
                            $(lblCheDt).text("Fund Transfer Date");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        } 
                        else {
                            // Others
                            $(lblCheNo).text("Others Ref. No");
                            $(lblCheDt).text("Payment Date");
                            $(txtChecValue).prop("disabled", false).val("");
                            $(txtCheDt).prop("disabled", false).val("");
                        }
                    });
                }

            handlePaymentChange( "#ddlAddPaymentMode", "#lblAddChequeNo", "#lblAddChequeDate", "#txtAddChequeNo", "#txtAddChequeDate" );

            handlePaymentChange( "#ddlViewPaymentMode", "#lblViewChequeNo", "#lblViewChequeDate", "#txtViewChequeNo", "#txtViewChequeDate" );

            $("#btnAddTransaction").on("click", function () {
                // Investor/Scheme Details
                let dtNumber = $("#txtAddDtNumber").val();
                let transactionDate = $("#txtAddTrDate").val();
                let businessCode = $("#txtAddBssCode").val();
                let rm = $("#txtAddRM").val();
                let invCode = $("#txtAddInvCode").val();
                let anaCode = $("#txtAddAnaCode").val();
                let accountHolder = $("#txtAddAHName").val();
                let accountHolderCode = $("#txtAddAHCode").val();
                let branch = $("#ddlAddBranch").val();
                let amc = $("#txtAddAMC").val();
                let scheme = $("#hdnAddScheme1").val();
                let transactionType = $("#ddlAddTransactionType").val();
                let regularNfo = $("input[name='rdbAddRN']:checked").val();
                let formSwitchFolio = $("#txtAddformSwitchFolio").val();
                let formSwitchScheme = $("#hdnAddScheme2_fromSwitch").val();
                let schemeSearchState = $("#hdnSchemeSearchState").val();

                // Application And Payment Details
                let applicationNo = $("#txtAddAppNo").val();
                let folioNo = $("#txtAddFolioNo").val();
                let amount = $("#txtAddAmount").val();
                let paymentMode = $("#txtAddPaymentMode").val();
                let chequeNo = $("#txtAddChequeNo").val();
                let chequeDate = $("#txtAddChequeDate").val();
                let bankName = $("#ddlAddBankName").val();
                let expPercentage = $("#txtAddExpPer").val();
                let expRs = $("#txtAddExpRs").val();
                let autoSwitchOnMaturity = $("#chkAddAutoSwitchOnMaturity").is(":checked") ? 'Y' : 'N';
                let closeScheme = $("#hdnAddScheme3_Close").val();

                // SIP Details
                let sipStp = $("#ddlAddSipStp").val();
                let installmentType = $("#ddlAddInstallmentType").val();
                let sipType = $("#ddlAddSipType").val();
                let sipAmount = $("#txtAddSipAmount").val();
                let frequency = $("#ddlAddFrequency").val();
                let installmentsNo = $("#txtAddInstallmentsNo").val();
                let sipStartDate = $("#txtAddSIPStartDate").val();
                let sipEndDate = $("#txtAddSIPEndDate").val();
                let freshRenewal = $("input[name='rdbAddFreshRenewal']:checked").val();
                let cobCase = $("#chkAddCOBCase").is(":checked") ? 'Y' : 'N';
                let swpCase = $("#chkAddSWPCase").is(":checked") ? 'Y' : 'N';
                let freedomSip = $("#chkAddFreedomSIP").is(":checked") ? 'Y' : 'N';
                let ninetyNineYears = $("#chkAdd99Years").is(":checked") ? 'Y' : 'N';

                // PAN Details
                let panNo = $("#txtAddPan2").val();

                // Build final message
                let msg1 = "Stored field values:\n\n" +
                    "Investor / Scheme Details\n" +
                    "-----------------------------\n" +
                    "DT Number: " + dtNumber + "\n" +
                    "Transaction Date: " + transactionDate + "\n" +
                    "Business Code: " + businessCode + "\n" +
                    "RM: " + rm + "\n" +
                    "Investor Code: " + invCode + "\n" +
                    "ANA Code: " + anaCode + "\n" +
                    "Account Holder: " + accountHolder + "\n" +
                    "Account Holder Code: " + accountHolderCode + "\n" +
                    "Branch: " + branch + "\n" +
                    "AMC: " + amc + "\n" +
                    "Scheme: " + scheme + "\n" +
                    "Scheme Search State: " + schemeSearchState + "\n" +
                    "Transaction Type: " + transactionType + "\n" +
                    "Regular/NFO: " + regularNfo + "\n" +
                    "Form Switch Folio: " + formSwitchFolio + "\n" +
                    "Form Switch Scheme: " + formSwitchScheme + "\n\n"

                let msg2 = "Application & Payment Details\n" +
                    "-----------------------------\n" +
                    "Application No: " + applicationNo + "\n" +
                    "Folio No: " + folioNo + "\n" +
                    "Amount: " + amount + "\n" +
                    "Payment Mode: " + paymentMode + "\n" +
                    "Cheque No: " + chequeNo + "\n" +
                    "Cheque Date: " + chequeDate + "\n" +
                    "Bank Name: " + bankName + "\n" +
                    "Exp %: " + expPercentage + "\n" +
                    "Exp Rs: " + expRs + "\n" +
                    "Auto Switch On Maturity: " + autoSwitchOnMaturity + "\n" +
                    "Close Scheme: " + closeScheme + "\n\n"

                let msg3 = "SIP Details\n" +
                    "-----------------------------\n" +
                    "SIP/STP: " + sipStp + "\n" +
                    "Installment Type: " + installmentType + "\n" +
                    "SIP Type: " + sipType + "\n" +
                    "SIP Amount: " + sipAmount + "\n" +
                    "Frequency: " + frequency + "\n" +
                    "Installments No: " + installmentsNo + "\n" +
                    "SIP Start Date: " + sipStartDate + "\n" +
                    "SIP End Date: " + sipEndDate + "\n" +
                    "Fresh/Renewal: " + freshRenewal + "\n" +
                    "COB Case: " + cobCase + "\n" +
                    "SWP Case: " + swpCase + "\n" +
                    "Freedom SIP: " + freedomSip + "\n" +
                    "99 Years: " + ninetyNineYears + "\n\n" +

                    "PAN Details\n" +
                    "-----------------------------\n" +
                    "PAN No: " + panNo;

                // Show all values in alert
                alert(msg1);
                alert(msg2);
                alert(msg3);

                // Also log in console for easier debugging
                console.log(msg);
            });

            $('#psmModalSchemeSearch_btnReset').on('click', function () {
                var $openModal = $('.modal.show');
                if ($openModal.length) {
                    enableModalAutoReset($openModal);
                }
            });



        });
    </script>


</head>

<body>

    

    <div class="container-fluid py-4">
        <div class="page-header mb-4">
            <h3 class="page-title">MF Trans Punching</h3>
        </div>

        <div class="row">
            <div class="col-md-12 grid-margin stretch-card">
                <div class="card">
                    <div class="card-body">
                        <!-- Tab Navigation -->
                        <ul class="nav nav-tabs wmTabs" id="wmTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a id="add_tab" class="nav-link active" href="#add_item" role="tab" data-bs-toggle="tab"
                                    aria-selected="true" aria-controls="add_item">Add</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a id="view_modify_tab" class="nav-link" href="#view_modify" role="tab"
                                    data-bs-toggle="tab" aria-selected="false"
                                    aria-controls="view_modify">View/Modify</a>
                            </li>
                        </ul>

                        <!-- Tab Content -->
                        <div class="tab-content wmTabsContent mt-3" id="wmTabsContent">

                            <!-- TAB 1: ADD -->
                            <div class="tab-pane fade show active" id="add_item" role="tabpanel" aria-labelledby="add_tab">

                                <div class="row g-3">
                                    <!-- Investor/Scheme Details -->
                                    <div class="col-md-8">
                                        <fieldset class="border p-2">
                                            <legend class="card-title">Investor/Scheme Details</legend>
                                            <div class="row g-3">
                                                <div class="">
                                                    <div class="col-md-3">
                                                        <button type="button" id="btnAddCrossChannelSearch"
                                                            data-bs-target="#psmModalCrossChannel"
                                                            class="btn btn-outline-primary btn-sm"
                                                            data-bs-toggle="modal">
                                                            Cross Search </button>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <button type="button" id="btnAddCrossInvestorAddUpdate"
                                                            data-bs-target="#psmModalInvestorAddUpdate"
                                                            class="btn btn-outline-primary btn-sm"
                                                            data-bs-toggle="modal">
                                                            Investor Add/Update </button>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <button type="button" id="btnAddCrossDuplicateCheck"
                                                            data-bs-target="#psmModalDuplicateCheck"
                                                            class="btn btn-outline-primary btn-sm"
                                                            data-bs-toggle="modal">
                                                            Duplicate Check </button>
                                                    </div>


                                                </div>

                                                <!-- DT Number Box & Button -->
                                                <div class="col-md-3">
                                                    <label for="txtAddDtNumber" class="form-label">DT Number</label>
                                                    <div class="input-group">
                                                        <input type="text" id="txtAddDtNumber" class="form-control" />
                                                        <button id="btnAddDtNumber"
                                                            class="btn btn-outline-primary">Show</button>
                                                    </div>
                                                </div>

                                                <!-- Transaction Date -->
                                                <div class="col-md-3">
                                                    <label class="form-label" for="txtAddTrDate">Transaction Date</label>
                                                    <input type="text" id="txtAddTrDate" class="form-control"
                                                        readonly />
                                                </div>

                                                <!-- Business Code -->
                                                <div class="col-md-3">
                                                    <label for="txtAddBssCode" class="form-label">Business Code</label>
                                                    <input type="text" id="txtAddBssCode" class="form-control" />
                                                </div>

                                                <!-- RM -->
                                                <div class="col-md-3">
                                                    <label for="txtAddRM" class="form-label">RM</label>
                                                    <input type="text" id="txtAddRM" class="form-control bg-light"
                                                        disabled />
                                                </div>

                                                <!-- Inv Code -->
                                                <div class="col-md-3">
                                                    <label for="txtAddInvCode" class="form-label">Inv Code</label>
                                                    <input type="text" id="txtAddInvCode" class="form-control bg-light"
                                                        disabled />
                                                </div>

                                                <!-- Ana Code -->
                                                <div class="col-md-3">
                                                    <label class="form-label" for="txtAddAnaCode">Ana Code</label>
                                                    <input type="text" id="txtAddAnaCode" class="form-control bg-light"
                                                        disabled />
                                                </div>

                                                <!-- Account Holder -->
                                                <div class="col-md-6">
                                                    <label for="txtAddAHName" class="form-label">Account Holder</label>
                                                    <div class="input-group">
                                                        <input type="text" id="txtAddAHName"
                                                            class="form-control font-weight-bold"
                                                            value="INVESTOR NAME" />
                                                        <button type="button" id="btnAddInvestorSearch1"
                                                            class="btn btn-outline-primary btn-sm"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#psmModelInvestorSearch">Search
                                                            Investor</button>
                                                    </div>
                                                </div>

                                                <!-- Account Holder Code -->
                                                <div class="col-md-3">
                                                    <label for="txtAddAHCode" class="form-label">A/C Holder Code</label>
                                                    <input type="text" id="txtAddAHCode" class="form-control"
                                                        disabled />
                                                </div>

                                                <!-- Branch Dropdown -->
                                                <div class="col-md-3">
                                                    <label for="ddlAddBranch" class="form-label">Branch</label>
                                                    <select id="ddlAddBranch" class="form-select">
                                                        <option value=""></option>
                                                    </select>
                                                </div>

                                                <!-- AMC Dropdown -->
                                                <div class="col-md-3">
                                                    <label for="txtAddAMC" class="form-label">AMC</label>
                                                    <select id="txtAddAMC" class="form-select">
                                                        <option value=""></option>
                                                        <option value="amc1">AMC 1</option>
                                                        <option value="amc2">AMC 2</option>
                                                    </select>
                                                </div>

                                                <!-- Transaction Type -->
                                                <div class="col-md-3">
                                                    <label for="ddlAddTransactionType" class="form-label">Transaction
                                                        Type <span class="text-danger">*</span></label>
                                                    <select id="ddlAddTransactionType" class="form-select" required>
                                                        <option value=""></option>
                                                        <option value="PURCHASE">PURCHASE</option>
                                                        <option value="SWITCH IN">SWITCH IN</option>
                                                    </select>
                                                </div>

                                                <!-- Regular/NFO Radio Buttons -->
                                                <div class="col-md-3">
                                                    <label class="form-label">Regular/NFO</label>
                                                    <div class="d-flex align-items-center gap-3">
                                                        <div class="form-check">
                                                            <input type="radio" id="rdbAddRegular" name="rdbAddRN"
                                                                class="form-check-input" value="REGULAR" checked />
                                                            <label for="rdbAddRegular"
                                                                class="form-check-label">Regular</label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input type="radio" id="rdbAddNFO" name="rdbAddRN"
                                                                class="form-check-input" value="NFO" />
                                                            <label for="rdbAddNFO" class="form-check-label">NFO</label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Scheme Search -->
                                                <div class="col-md-9">
                                                    <label for="txtAddScheme1" class="form-label">Scheme</label>
                                                    <div class="input-group">
                                                        <input type="text" id="txtAddScheme1" class="form-control" />
                                                        <input type="hidden" id="hdnAddScheme1" class="form-control" />
                                                        <button type="button" id="btnAddScheme1"
                                                        onclick="return handleSchemeTranType(this, '#ddlAddTransactionType')"
                                                            class="btn btn-outline-primary btn-sm"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#psmModalSchemeSearch">Search</button>
                                                    </div>
                                                    <input type="hidden" id="hdnAddSchemeSearchState" value="0" />
                                                </div>


                                                <!-- From Switch/STP Folio -->
                                                <div class="col-md-12">
                                                    <fieldset class="border p-2">
                                                        <legend class="card-title">Switch/STP</legend>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <label for="txtAddformSwitchFolio"
                                                                    class="form-label">From Switch/STP Folio</label>
                                                                <input type="text" id="txtAddformSwitchFolio"
                                                                    class="form-control" />
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="txtAddScheme2_fromSwitch"
                                                                    class="form-label">From Switch/STP Scheme</label>
                                                                <div class="input-group">
                                                                    <input type="text" id="txtAddScheme2_fromSwitch" class="form-control" />
                                                                    <input type="hidden" id="hdnAddScheme2_fromSwitch" class="form-control" />
                                                                    <button type="button" id="btnAddScheme2_fromSwitch" 
                                                                        class="btn btn-outline-primary btn-sm"
                                                                        data-bs-toggle="modal"
                                                                        data-bs-target="#psmModalSchemeSearch">Search</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </fieldset>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>

                                    <!-- Application And Payment Details Details -->
                                    <div class="col-md-4">
                                        <fieldset class="border p-2">
                                            <legend>Application And Payment Details</legend>
                                            <!-- <h4 class="card-title">Application And Payment Details</h4> -->
                                            <div class="row g-3">
                                                <!-- Application No -->
                                                <div class="col-md-4">
                                                    <label for="txtAddAppNo" class="form-label">Application No</label>
                                                    <input type="text" id="txtAddAppNo" class="form-control" />
                                                </div>

                                                <!-- Folio No -->
                                                <div class="col-md-4">
                                                    <label for="txtAddFolioNo" class="form-label">Folio No</label>
                                                    <input type="text" id="txtAddFolioNo" class="form-control" />
                                                </div>

                                                <!-- Amount -->
                                                <div class="col-md-4">
                                                    <label for="txtAddAmount" class="form-label">Amount</label>
                                                    <input type="text" id="txtAddAmount" class="form-control" />
                                                </div>

                                                <!-- Payment Method -->
                                                <div class="col-md-4">
                                                    <label for="ddlAddPaymentMode" class="form-label">Payment
                                                        Method</label>
                                                    <select id="ddlAddPaymentMode" class="form-select">
                                                        <option value="CHEQUE" selected>Cheque</option>
                                                        <option value="DRAFT">Draft</option>
                                                        <option value="ECS">ECS</option>
                                                        <option value="CASH">Cash</option>
                                                        <option value="OTHERS">Others</option>
                                                        <option value="RTGS">RTGS</option>
                                                        <option value="FUND_TRANSFER">Fund Transfer</option>
                                                    </select>
                                                </div>


                                                <!-- Payment Details  -->
                                                <div class="col-md-4">
                                                    <label for="txtAddChequeNo" id="lblAddChequeNo" class="form-label">Cheque No</label>
                                                    <span class="text-danger">*</span>
                                                    <input type="text" id="txtAddChequeNo" class="form-control" />


                                                </div>

                                                <!-- Payment Details  -->
                                                <div class="col-md-4">
                                                    <label for="txtAddChequeDate" id="lblAddChequeDate" class="form-label">Cheque
                                                        Dated</label>
                                                    <span class="text-danger">*</span>
                                                    <div class="date">
                                                        <input type="text" id="txtAddChequeDate" class="form-control" />
                                                    </div>
                                                </div>

                                                <!-- Bank Name -->
                                                <div class="col-md-12">
                                                    <label for="ddlAddBankName" class="form-label">Bank Name</label>
                                                    <select id="ddlAddBankName" class="form-select">
                                                        <option value=""></option>
                                                        <option value="bank1">Bank 1</option>
                                                        <option value="bank2">Bank 2</option>
                                                    </select>
                                                </div>

                                                <!-- Expenses Percentage -->
                                                <div class="col-md-6">
                                                    <label for="txtAddExpPer" class="form-label">Expenses%</label>
                                                    <input type="text" id="txtAddExpPer" class="form-control"
                                                        disabled />
                                                </div>

                                                <!-- Expenses (Rs.) -->
                                                <div class="col-md-6">
                                                    <label for="txtAddExpRs" class="form-label">Expenses (Rs.)</label>
                                                    <input type="text" id="txtAddExpRs" class="form-control" disabled />
                                                </div>

                                                <!-- Auto Switch On Maturity -->
                                                <div class="col-md-12">
                                                    <div class="form-check mt-3">
                                                        <input type="checkbox" id="chkAddAutoSwitchOnMaturity"
                                                            class="form-check-input" />
                                                        <label for="chkAddAutoSwitchOnMaturity"
                                                            class="form-check-label">Auto Switch On Maturity</label>
                                                    </div>
                                                </div>


                                                <!-- Auto Switch Scheme -->
                                                <div class="col-md-12 mt-4">
                                                    <label for="txtAddScheme3_Close" class="form-label"></label>
                                                    <div class="input-group">
                                                        <input type="text" id="txtAddScheme3_Close"
                                                            class="form-control" />
                                                        <input type="hidden" id="hdnAddScheme3_Close"
                                                            class="form-control" />
                                                        <button id="btnAddScheme3_Close"
                                                            class="btn btn-outline-primary btn-sm"
                                                            data-bs-toggle="modal"
                                                            data-bs-target="#psmModalSchemeSearch">Search</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>

                                    </div>

                                    <!-- SIP Details -->
                                    <div class="col-md-12">
                                        <fieldset class="border p-2">
                                            <legend class="card-title">SIP Details</legend>
                                            <div class="row g-3">

                                                <!-- SIP/STP or Regular -->
                                                <div class="col-md-2">
                                                    <label for="ddlAddSipStp" class="form-label">SIP/STP</label>
                                                    <select id="ddlAddSipStp" class="form-select">
                                                        <option value=""></option>
                                                        <option value="REGULAR">REGULAR</option>
                                                        <option value="SIP">SIP</option>
                                                        <option value="STP">STP</option>
                                                    </select>
                                                </div>

                                                <!-- Installment Type -->
                                                <div class="col-md-2">
                                                    <label for="ddlAddInstallmentType" class="form-label">Installment
                                                        Type</label>
                                                    <select id="ddlAddInstallmentType" class="form-select">
                                                        <option value=""></option>
                                                        <option value="NORMAL">NORMAL</option>
                                                        <option value="MICRO">MICRO</option>
                                                    </select>
                                                </div>

                                                <!-- SIP Type -->
                                                <div class="col-md-2">
                                                    <label for="ddlAddSipType" class="form-label">SIP TYPE (Sub
                                                        SIP)</label>
                                                    <select id="ddlAddSipType" class="form-select">
                                                        <option value=""></option>
                                                        <option value="N">NORMAL</option>
                                                        <option value="Y">MICROSIP</option>
                                                    </select>
                                                </div>

                                                <!-- SIP Amount -->
                                                <div class="col-md-2">
                                                    <label for="txtAddSipAmount" class="form-label">SIP Amount</label>
                                                    <input type="text" id="txtAddSipAmount" class="form-control" />
                                                </div>

                                                <!-- Frequency-->
                                                <div class="col-md-2">
                                                    <label for="ddlAddFrequency" class="form-label">Frequency</label>
                                                    <select id="ddlAddFrequency" class="form-select">
                                                        <option value=""></option>
                                                        <option value="208">Daily</option>
                                                        <option value="173">Weekly</option>
                                                        <option value="174">Fortnightly</option>
                                                        <option value="175">Monthly</option>
                                                        <option value="176">Quarterly</option>
                                                        <option value="301">Yearly</option>
                                                    </select>
                                                </div>

                                                <!-- Installments Nos-->
                                                <div class="col-md-2">
                                                    <label for="txtAddInstallmentsNo" class="form-label">Installments
                                                        Nos</label>
                                                    <input type="text" id="txtAddInstallmentsNo" class="form-control"
                                                        maxlength="4" />
                                                </div>

                                                <!-- SIP Start Date -->
                                                <div class="col-md-2">
                                                    <label for="txtAddSIPStartDate" class="form-label">SIP Start Date</label>
                                                    <div class="date">
                                                        <input type="text" id="txtAddSIPStartDate" class="form-control" />
                                                    </div>
                                                </div>

                                                <!-- SIP End Date -->
                                                <div class="col-md-2">
                                                    <label for="txtAddSIPEndDate" class="form-label">SIP End Date</label>
                                                    <div class="date">
                                                        <input type="text" id="txtAddSIPEndDate" class="form-control" />
                                                    </div>
                                                </div>

                                                <!-- Fresh/Renewal Radio Buttons  -->
                                                <div class="col-md-2">
                                                    <div class="d-flex align-items-between gap-3 mt-4">
                                                        <div class="form-check">
                                                            <input type="radio" id="rdbAddFresh"
                                                                name="rdbAddFreshRenewal" class="form-check-input"
                                                                value="FRESH" checked />
                                                            <label for="rdbAddFresh"
                                                                class="form-check-label">Fresh</label>
                                                        </div>
                                                        <div class="form-check">
                                                            <input type="radio" id="rdbAddRenewal"
                                                                name="rdbAddFreshRenewal" class="form-check-input"
                                                                value="RENEWAL" />
                                                            <label for="rdbAddRenewal"
                                                                class="form-check-label">Renewal</label>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- COB, SWP, Freedom SIP, 99 Years -->
                                                <div class="col-md-5">
                                                    <div class="d-flex align-items-between gap-3 mt-4">
                                                        <div class="col-md-2">
                                                            <div class="form-check">
                                                                <input type="checkbox" id="chkAddCOBCase"
                                                                    name="chkAddCOB99Case" class="form-check-input" />
                                                                <label for="chkAddCOBCase" class="form-check-label">COB
                                                                    Case</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <div class="form-check">
                                                                <input type="checkbox" id="chkAddSWPCase"
                                                                    name="chkAddCOB99Case" class="form-check-input" />
                                                                <label for="chkAddSWPCase" class="form-check-label">SWP
                                                                    Case</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <div class="form-check">
                                                                <input type="checkbox" id="chkAddFreedomSIP"
                                                                    name="chkAddCOB99Case" class="form-check-input" />
                                                                <label for="chkAddFreedomSIP"
                                                                    class="form-check-label">Freedom SIP</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="form-check">
                                                                <input type="radio" id="chkAdd99Years"
                                                                    name="chkAddCOB99Case" class="form-check-input" />
                                                                <label for="chkAdd99Years" class="form-check-label">OR
                                                                    99 Years or more</label>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>

                                    <!-- PAN Details -->
                                    <div class="col-md-4">
                                        <fieldset class="border p-2">
                                            <legend>PAN Details</legend>
                                            <div class="col-md-12">
                                                <div class="d-flex">
                                                    <label for="txtAddPan2" class="form-label" style="width: 120px;">PAN
                                                        No</label>
                                                    <input type="text" id="txtAddPan2" class="form-control"
                                                        maxlength="10" />
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>

                                    <!-- Action Buttons -->
                                    <div class="col-md-8">
                                        <fieldset class="border p-2">
                                            <legend>Action </legend>
                                            <!-- Action Buttons -->
                                            <div class="col-md-12">
                                                <div class="d-flex align-items-md-center flex-wrap gap-3">
                                                    <button id="btnAddTransaction"
                                                        class="btn btn-outline-primary">Add</button>
                                                    <button id="btnAddPrintAR" class="btn btn-outline-primary"
                                                        disabled>Print AR</button>
                                                    <button id="btnAddReset"
                                                        class="btn btn-outline-primary">Reset</button>
                                                    <button id="btnAddLeadSearch" class="btn btn-outline-primary"
                                                        disabled>Lead Search</button>
                                                    <button id="btnAddChangeInvestorDetails"
                                                        class="btn btn-outline-primary">Change Investor Details</button>
                                                    <button id="btnAddExit"
                                                        class="btn btn-outline-primary">Exit</button>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>

                                </div>


                            </div>

                            <!-- TAB 2: VIEW/MODIFY -->
                            <div class="tab-pane fade" id="view_modify" role="tabpanel"
                                aria-labelledby="view_modify_tab">
                                <div class="row g-3">
                                    <div class="col-md-12">
                                        <fieldset class="border p-2">
                                            <legend class="card-title">Transaction Log</legend>
                                            <div class="col-md-12">
                                                <fieldset class="border p-2">
                                                    <legend class="card-title">Search AR</legend>
                                                    <div class="row g-3 mb-3">

                                                        <!-- From Date -->
                                                        <div class="col-md-2">
                                                            <label for="fromDate" class="form-label">From Date</label>
                                                            <div class="date">
                                                                <input type="text" id="fromDate"
                                                                    class="form-control " />
                                                            </div>
                                                        </div>

                                                        <!-- To Date -->
                                                        <div class="col-md-2">
                                                            <label for="toDate" class="form-label">To Date</label>
                                                            <div class="date">
                                                                <input type="text" id="toDate" class="form-control " />
                                                            </div>
                                                        </div>

                                                        <!-- PAN No -->
                                                        <div class="col-md-2">
                                                            <label for="txtAddPan2oSearchView" class="form-label">PAN
                                                                No.</label>
                                                            <input type="text" id="txtAddPan2oSearchView"
                                                                class="form-control" maxlength="10" />
                                                        </div>

                                                        <!-- TR No -->
                                                        <div class="col-md-2">
                                                            <label for="trNo" class="form-label">TR No.</label>
                                                            <input type="text" id="trNo" class="form-control" />
                                                        </div>

                                                        <!-- Unique Client Code -->
                                                        <div class="col-md-2">
                                                            <label for="uniqueClientCode" class="form-label">Unique
                                                                Client Code</label>
                                                            <input type="text" id="uniqueClientCode"
                                                                class="form-control" />
                                                        </div>

                                                        <!-- ANA Code -->
                                                        <div class="col-md-2">
                                                            <label for="anaCode" class="form-label">ANA Code</label>
                                                            <input type="text" id="anaCode" class="form-control" />
                                                        </div>

                                                        <!-- Cheque No -->
                                                        <div class="col-md-2">
                                                            <label for="chequeNo" class="form-label">Cheque No</label>
                                                            <input type="text" id="chequeNo" class="form-control" />
                                                        </div>

                                                        <!-- App No -->
                                                        <div class="col-md-2">
                                                            <label for="appNo" class="form-label">App No</label>
                                                            <input type="text" id="appNo" class="form-control" />
                                                        </div>


                                                        <!-- Order By -->
                                                        <div class="col-md-1">
                                                            <label for="orderBy" class="form-label">Order By</label>
                                                            <select id="orderBy" class="form-select">
                                                                <option value="">Select</option>
                                                                <option value="txtAddPan2o">PAN No.</option>
                                                                <option value="trNo">TR No.</option>
                                                                <option value="uniqueClientCode">Unique Client Code
                                                                </option>
                                                                <option value="anaCode">ANA Code</option>
                                                                <option value="chequeNo">Cheque No</option>
                                                                <option value="appNo">App No</option>
                                                            </select>
                                                        </div>

                                                        <!-- Ascending/Descending -->
                                                        <div class="col-md-2 mt-5">
                                                            <!-- <label class="form-label">Order</label> -->
                                                            <div class="d-flex align-items-center gap-3">
                                                                <div class="form-check">
                                                                    <input type="radio" id="ascending" name="order"
                                                                        class="form-check-input" value="ascending"
                                                                        checked />
                                                                    <label for="ascending"
                                                                        class="form-check-label">Ascending</label>
                                                                </div>
                                                                <div class="form-check">
                                                                    <input type="radio" id="descending" name="order"
                                                                        class="form-check-input" value="descending" />
                                                                    <label for="descending"
                                                                        class="form-check-label">Descending</label>
                                                                </div>
                                                            </div>
                                                        </div>


                                                        <!-- Search Button -->
                                                        <div class="col-md-1 mt-5">
                                                            <button id="btnSearchAR" style="width: 100%;"
                                                                class="btn btn-primary">View</button>
                                                        </div>

                                                        <div class="col-md-4">
                                                            <label for="uniqueClientCode" class="form-label font-bold">
                                                                <b>Searching By Investor </b> </label>
                                                            <div class="input-group">
                                                                <input type="text" id="txtViewSearAr2_uniqueClientCode"
                                                                    class="form-control" placeholder="Contact" />
                                                                <button class="btn btn-primary"
                                                                    type="button">Search</button>
                                                            </div>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <p><span class="text-danger">*</span> To Search any data click on the column to be searched and press Find</p>
                                                        </div>
                                                    </div>

                                                    <div id="Label20" class="text-danger"></div>
                                                    <!-- Search Results -->
                                                    <div class="table-responsive mt-3">
                                                        <table id="tableSearchResults" class="table table-bordered">
                                                            <thead class="thead-dark">
                                                                <tr>
                                                                    <th>Action</th>
                                                                    <th>AR NO</th>
                                                                    <th>Investor</th>
                                                                    <th>PAN No</th>
                                                                    <th>City Name</th>
                                                                    <th>Address1</th>
                                                                    <th>Address2</th>
                                                                    <th>PIN</th>
                                                                    <th>Mobile</th>
                                                                    <th>Aadhar no.</th>
                                                                    <th>Email</th>
                                                                    <th>DOB</th>
                                                                    <th>CLIENT CODE</th>
                                                                    <th>BUSINESS CODE</th>
                                                                    <th>ACOUNT HOLDER CODE</th>
                                                                    <th>AMC CODE</th>
                                                                    <th>AMC NAME</th>
                                                                    <th>TranDate</th>
                                                                    <th>TranType</th>
                                                                    <th>App No</th>
                                                                    <th>Mode</th>
                                                                    <th>Chq No</th>
                                                                    <th>ChqDt</th>
                                                                    <th>Amount</th>
                                                                    <th>SIP/STP</th>
                                                                    <th>LeadNo</th>
                                                                    <th>Lead Name</th>
                                                                    <th>Bank Name</th>
                                                                    <th>RM</th>
                                                                    <th>Folio No</th>
                                                                    <th>DocId</th>
                                                                    <th>Inves</th>
                                                                    <th>Target</th>
                                                                    <th>Target Name</th>
                                                                    <th>Switch</th>
                                                                    <th>FREQUENCY</th>
                                                                    <th>NoofInstallment</th>
                                                                    <th>SIP_Start_Date</th>
                                                                    <th>SIP_End_Date</th>
                                                                    <th>Remarks</th>
                                                                    <th>Scheme Name</th>
                                                                    <th>Switch Scheme Name</th>
                                                                    <th>Scheme Code</th>
                                                                    <th>PAN No TEMP</th>
                                                                    <th>Branch Name</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- Data will be populated dynamically -->
                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </fieldset>
                                            </div>
                                        </fieldset>
                                    </div>
                                    <div class="col-md-12 mt-2">
                                        <fieldset class="border p-2">
                                            <legend class="card-title">Transaction Details</legend>
                                            <div class="col-md-12">
                                                <div class="row g-3">
                                                    <!-- Investor/Scheme Details -->
                                                    <div class="col-md-8">
                                                        <fieldset class="border p-2">
                                                            <legend class="card-title">Investor/Scheme Details</legend>
                                                            <div class="row g-3">
                                                                <div class="d-none">
                                                                    <div class="col-md-3">
                                                                        <button type="button" id="btnViewCrossChannelSearch"
                                                                            data-bs-target="#psmModalCrossChannel"
                                                                            class="btn btn-outline-primary btn-sm"
                                                                            data-bs-toggle="modal">
                                                                            Cross Search </button>
                                                                    </div>
                                                                    <div class="col-md-3">
                                                                        <button type="button" id="btnViewCrossInvestorAddUpdate"
                                                                            data-bs-target="#psmModalInvestorAddUpdate"
                                                                            class="btn btn-outline-primary btn-sm"
                                                                            data-bs-toggle="modal">
                                                                            Investor Add/Update </button>
                                                                    </div>
                                                                </div>

                                                                <!-- DT Number Box & Button -->
                                                                <div class="col-md-3">
                                                                    <label for="txtViewDtNumber" class="form-label">DT Number</label>
                                                                    <div class="input-group">
                                                                        <input type="text" id="txtViewDtNumber" class="form-control" />
                                                                        <button id="btnViewDtNumber"
                                                                            class="btn btn-outline-primary">Show</button>
                                                                    </div>
                                                                </div>

                                                                <!-- Transaction Date -->
                                                                <div class="col-md-3">
                                                                    <label class="form-label" for="txtViewTrDate">Transaction Date</label>
                                                                    <input type="text" id="txtViewTrDate" class="form-control"
                                                                        readonly />
                                                                </div>

                                                                <!-- Business Code -->
                                                                <div class="col-md-3">
                                                                    <label for="txtViewBssCode" class="form-label">Business Code</label>
                                                                    <input type="text" id="txtViewBssCode" class="form-control" />
                                                                </div>

                                                                <!-- RM -->
                                                                <div class="col-md-3">
                                                                    <label for="txtViewRM" class="form-label">RM</label>
                                                                    <input type="text" id="txtViewRM" class="form-control bg-light"
                                                                        disabled />
                                                                </div>

                                                                <!-- Inv Code -->
                                                                <div class="col-md-3">
                                                                    <label for="txtViewInvCode" class="form-label">Inv Code</label>
                                                                    <input type="text" id="txtViewInvCode" class="form-control bg-light"
                                                                        disabled />
                                                                </div>

                                                                <!-- Ana Code -->
                                                                <div class="col-md-3">
                                                                    <label class="form-label" for="txtViewAnaCode">Ana Code</label>
                                                                    <input type="text" id="txtViewAnaCode" class="form-control bg-light"
                                                                        disabled />
                                                                </div>

                                                                <!-- Account Holder -->
                                                                <div class="col-md-6">
                                                                    <label for="txtViewAHName" class="form-label">Account Holder</label>
                                                                    <div class="input-group">
                                                                        <input type="text" id="txtViewAHName"
                                                                            class="form-control font-weight-bold"
                                                                            value="INVESTOR NAME" />
                                                                        <button type="button" id="btnViewInvestorSearch1"
                                                                            class="btn btn-outline-primary btn-sm"
                                                                            data-bs-toggle="modal"
                                                                            data-bs-target="#psmModelInvestorSearch">Search
                                                                            Investor</button>
                                                                    </div>
                                                                </div>

                                                                <!-- Account Holder Code -->
                                                                <div class="col-md-3">
                                                                    <label for="txtViewAHCode" class="form-label">A/C Holder Code</label>
                                                                    <input type="text" id="txtViewAHCode" class="form-control"
                                                                        disabled />
                                                                </div>

                                                                <!-- Branch Dropdown -->
                                                                <div class="col-md-3">
                                                                    <label for="ddlViewBranch" class="form-label">Branch</label>
                                                                    <select id="ddlViewBranch" class="form-select">
                                                                        <option value=""></option>
                                                                    </select>
                                                                </div>

                                                                <!-- AMC Dropdown -->
                                                                <div class="col-md-3">
                                                                    <label for="txtViewAMC" class="form-label">AMC</label>
                                                                    <select id="txtViewAMC" class="form-select">
                                                                        <option value=""></option>
                                                                        <option value="amc1">AMC 1</option>
                                                                        <option value="amc2">AMC 2</option>
                                                                    </select>
                                                                </div>

                                                                <!-- Transaction Type -->
                                                                <div class="col-md-3">
                                                                    <label for="ddlViewTransactionType" class="form-label">Transaction
                                                                        Type</label>
                                                                    <select id="ddlViewTransactionType" class="form-select" required>
                                                                        <option value=""></option>
                                                                        <option value="PURCHASE">PURCHASE</option>
                                                                        <option value="SWITCH IN">SWITCH IN</option>
                                                                    </select>
                                                                </div>

                                                                <!-- Regular/NFO Radio Buttons -->
                                                                <div class="col-md-3">
                                                                    <label class="form-label">Regular/NFO</label>
                                                                    <div class="d-flex align-items-center gap-3">
                                                                        <div class="form-check">
                                                                            <input type="radio" id="rdbViewRegular" name="rdbViewRN"
                                                                                class="form-check-input" value="REGULAR" checked/>
                                                                            <label for="rdbViewRegular"
                                                                                class="form-check-label">Regular</label>
                                                                        </div>
                                                                        <div class="form-check">
                                                                            <input type="radio" id="rdbViewNFO" name="rdbViewRN"
                                                                                class="form-check-input" value="NFO" />
                                                                            <label for="rdbViewNFO" class="form-check-label">NFO</label>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- Scheme Search -->
                                                                <div class="col-md-9">
                                                                    <label for="txtViewScheme1" class="form-label">Scheme</label>
                                                                    <div class="input-group">
                                                                        <input type="text" id="txtViewScheme1" class="form-control" />
                                                                        <input type="hidden" id="hdnViewScheme1" class="form-control" />
                                                                        <button type="button" id="btnViewScheme1"
                                                                            class="btn btn-outline-primary btn-sm"
                                                                            data-bs-toggle="modal"
                                                                            data-bs-target="#psmModalSchemeSearch" disabled>Search</button>
                                                                    </div>
                                                                    <input type="hidden" id="hdnViewSchemeSearchState" value="0" />
                                                                </div>


                                                                <!-- From Switch/STP Folio -->
                                                                <div class="col-md-12">
                                                                    <fieldset class="border p-2">
                                                                        <legend class="card-title">Switch/STP</legend>
                                                                        <div class="row">
                                                                            <div class="col-md-6">
                                                                                <label for="txtViewformSwitchFolio"
                                                                                    class="form-label">From Switch/STP Folio</label>
                                                                                <input type="text" id="txtViewformSwitchFolio"
                                                                                    class="form-control" />
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <label for="txtViewScheme2_fromSwitch"
                                                                                    class="form-label">From Switch/STP Scheme</label>
                                                                                <div class="input-group">
                                                                                    <input type="text" id="txtViewScheme2_fromSwitch" class="form-control" />
                                                                                    <input type="hidden" id="hdnViewScheme2_fromSwitch" class="form-control" />
                                                                                    <button type="button" id="btnViewScheme2_fromSwitch" 
                                                                                        class="btn btn-outline-primary btn-sm"
                                                                                        data-bs-toggle="modal"
                                                                                        data-bs-target="#psmModalSchemeSearch">Search</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </fieldset>
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>

                                                    <!-- Application And Payment Details Details -->
                                                    <div class="col-md-4">
                                                        <fieldset class="border p-2">
                                                            <legend>Application And Payment Details</legend>
                                                            <!-- <h4 class="card-title">Application And Payment Details</h4> -->
                                                            <div class="row g-3">
                                                                <!-- Application No -->
                                                                <div class="col-md-4">
                                                                    <label for="txtViewAppNo" class="form-label">Application No</label>
                                                                    <input type="text" id="txtViewAppNo" class="form-control" />
                                                                </div>

                                                                <!-- Folio No -->
                                                                <div class="col-md-4">
                                                                    <label for="txtViewFolioNo" class="form-label">Folio No</label>
                                                                    <input type="text" id="txtViewFolioNo" class="form-control" />
                                                                </div>

                                                                <!-- Amount -->
                                                                <div class="col-md-4">
                                                                    <label for="txtViewAmount" class="form-label">Amount</label>
                                                                    <input type="text" id="txtViewAmount" class="form-control" />
                                                                </div>

                                                                <!-- Payment Method -->
                                                                <div class="col-md-4">
                                                                    <label for="ddlViewPaymentMode" class="form-label">Payment
                                                                        Method</label>
                                                                    <select id="ddlViewPaymentMode" class="form-select">
                                                                        <option value="CHEQUE" selected>Cheque</option>
                                                                        <option value="DRAFT">Draft</option>
                                                                        <option value="ECS">ECS</option>
                                                                        <option value="CASH">Cash</option>
                                                                        <option value="OTHERS">Others</option>
                                                                        <option value="RTGS">RTGS</option>
                                                                        <option value="FUND_TRANSFER">Fund Transfer</option>
                                                                    </select>
                                                                </div>


                                                                <!-- Payment Details  -->
                                                                <div class="col-md-4">
                                                                    <label for="txtViewChequeNo" id="lblViewChequeNo" class="form-label">Cheque No</label>
                                                                    <span class="text-danger">*</span>
                                                                    <input type="text" id="txtViewChequeNo" class="form-control" />


                                                                </div>

                                                                <!-- Payment Details  -->
                                                                <div class="col-md-4">
                                                                    <label for="txtViewChequeDate" id="lblViewChequeDate" class="form-label">Cheque
                                                                        Dated</label>
                                                                    <span class="text-danger">*</span>
                                                                    <div class="date">
                                                                        <input type="text" id="txtViewChequeDate" class="form-control" />
                                                                    </div>
                                                                </div>

                                                                <!-- Bank Name -->
                                                                <div class="col-md-6">
                                                                    <label for="ddlViewBankName" class="form-label">Bank Name</label>
                                                                    <select id="ddlViewBankName" class="form-select">
                                                                        <option value=""></option>
                                                                        <option value="bank1">Bank 1</option>
                                                                        <option value="bank2">Bank 2</option>
                                                                    </select>
                                                                </div>

                                                                <!-- Remark -->
                                                                <div class="col-md-6">
                                                                    <label for="txtViewRemarks" class="form-label">Remarks</label>
                                                                    <textarea id="txtViewRemarks" class="form-control" rows="1"></textarea>
                                                                </div>

                                                                <!-- Expenses Percentage -->
                                                                <div class="col-md-6">
                                                                    <label for="txtViewExpPer" class="form-label">Expenses%</label>
                                                                    <input type="text" id="txtViewExpPer" class="form-control"
                                                                        disabled />
                                                                </div>

                                                                <!-- Expenses (Rs.) -->
                                                                <div class="col-md-6">
                                                                    <label for="txtViewExpRs" class="form-label">Expenses (Rs.)</label>
                                                                    <input type="text" id="txtViewExpRs" class="form-control" disabled />
                                                                </div>

                                                            
                                                                <!-- Auto Switch On Maturity -->
                                                                <div class="col-md-6 ">
                                                                    <div class="form-check mt-3">
                                                                        <input type="checkbox" id="chkViewAutoSwitchOnMaturity" class="form-check-input" />
                                                                        <label for="chkViewAutoSwitchOnMaturity" class="form-check-label">Auto Switch On Maturity</label>
                                                                    </div>
                                                                </div>

                                                                <!-- Reco Status with danger asterisk -->
                                                                <div class="col-md-6">
                                                                    <div class="form-check mt-3">
                                                                        <label for="txtViewRecoStatus" class="form-label text-uppercase text-danger">Reco Status</label>
                                                                    </div>
                                                                </div>

                                                                <!-- Auto Switch Scheme -->
                                                                <div class="col-md-12">
                                                                    <label for="txtViewScheme3_Close" class="form-label"></label>
                                                                    <div class="input-group">
                                                                        <input type="text" id="txtViewScheme3_Close"
                                                                            class="form-control" />
                                                                        <input type="hidden" id="hdnViewScheme3_Close"
                                                                            class="form-control" />
                                                                        <button id="btnViewScheme3_Close"
                                                                            class="btn btn-outline-primary btn-sm"
                                                                            data-bs-toggle="modal"
                                                                            data-bs-target="#psmModalSchemeSearch">Search</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </fieldset>

                                                    </div>

                                                    <!-- SIP Details -->
                                                    <div class="col-md-12">
                                                        <fieldset class="border p-2">
                                                            <legend class="card-title">SIP Details</legend>
                                                            <div class="row g-3">

                                                                <!-- SIP/STP or Regular -->
                                                                <div class="col-md-2">
                                                                    <label for="ddlViewSipStp" class="form-label">SIP/STP</label>
                                                                    <select id="ddlViewSipStp" class="form-select">
                                                                        <option value=""></option>
                                                                        <option value="REGULAR">REGULAR</option>
                                                                        <option value="SIP">SIP</option>
                                                                        <option value="STP">STP</option>
                                                                    </select>
                                                                </div>

                                                                <!-- Installment Type -->
                                                                <div class="col-md-2">
                                                                    <label for="ddlViewInstallmentType" class="form-label">Installment
                                                                        Type</label>
                                                                    <select id="ddlViewInstallmentType" class="form-select">
                                                                        <option value=""></option>
                                                                        <option value="NORMAL">NORMAL</option>
                                                                        <option value="MICRO">MICRO</option>
                                                                    </select>
                                                                </div>

                                                                <!-- SIP Type -->
                                                                <div class="col-md-2">
                                                                    <label for="ddlViewSipType" class="form-label">SIP TYPE (Sub
                                                                        SIP)</label>
                                                                    <select id="ddlViewSipType" class="form-select">
                                                                        <option value=""></option>
                                                                        <option value="N">NORMAL</option>
                                                                        <option value="Y">MICROSIP</option>
                                                                    </select>
                                                                </div>

                                                                <!-- SIP Amount -->
                                                                <div class="col-md-2">
                                                                    <label for="txtViewSipAmount" class="form-label">SIP Amount</label>
                                                                    <input type="text" id="txtViewSipAmount" class="form-control" />
                                                                </div>

                                                                <!-- Drop Date -->
                                                                <div class="col-md-2">
                                                                    <label for="txtViewDropDate" class="form-label">Drop Date</label>
                                                                    <input type="text" id="txtViewDropDate" class="form-control" />
                                                                </div>

                                                                <!-- Frequency-->
                                                                <div class="col-md-2">
                                                                    <label for="ddlViewFrequency" class="form-label">Frequency</label>
                                                                    <select id="ddlViewFrequency" class="form-select">
                                                                        <option value=""></option>
                                                                        <option value="208">Daily</option>
                                                                        <option value="173">Weekly</option>
                                                                        <option value="174">Fortnightly</option>
                                                                        <option value="175">Monthly</option>
                                                                        <option value="176">Quarterly</option>
                                                                        <option value="301">Yearly</option>
                                                                    </select>
                                                                </div>

                                                                <!-- Installments Nos-->
                                                                <div class="col-md-2">
                                                                    <label for="txtViewInstallmentsNo" class="form-label">Installments
                                                                        Nos</label>
                                                                    <input type="text" id="txtViewInstallmentsNo" class="form-control"
                                                                        maxlength="4" />
                                                                </div>

                                                                <!-- SIP Start Date -->
                                                                <div class="col-md-2">
                                                                    <label for="txtViewSIPStartDate" class="form-label">SIP Start Date</label>
                                                                    <div class="date">
                                                                        <input type="text" id="txtViewSIPStartDate" class="form-control" />
                                                                    </div>
                                                                </div>

                                                                <!-- SIP End Date -->
                                                                <div class="col-md-2">
                                                                    <label for="txtViewSIPEndDate" class="form-label">SIP End Date</label>
                                                                    <div class="date">
                                                                        <input type="text" id="txtViewSIPEndDate" class="form-control" />
                                                                    </div>
                                                                </div>

                                                                <!-- Fresh/Renewal Radio Buttons  -->
                                                                <div class="col-md-2">
                                                                    <div class="d-flex align-items-between gap-3 mt-4  " >
                                                                        <div class="form-check">
                                                                            <input type="radio" id="rdbViewFresh"
                                                                                name="rdbViewFreshRenewal" class="form-check-input"
                                                                                value="FRESH" disabled />
                                                                            <label for="rdbViewFresh"
                                                                                class="form-check-label">Fresh</label>
                                                                        </div>
                                                                        <div class="form-check">
                                                                            <input type="radio" id="rdbViewRenewal"
                                                                                name="rdbViewFreshRenewal" class="form-check-input"
                                                                                value="RENEWAL" disabled />
                                                                            <label for="rdbViewRenewal"
                                                                                class="form-check-label">Renewal</label>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <!-- COB, SWP, Freedom SIP, 99 Years -->
                                                                <div class="col-md-4">
                                                                    <div class="d-flex align-items-between gap-3 mt-3">
                                                                        <div class="col-md-2">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" id="chkViewCOBCase"
                                                                                    name="chkViewCOB99Case" class="form-check-input" />
                                                                                <label for="chkViewCOBCase" class="form-check-label">COB
                                                                                    Case</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" id="chkViewSWPCase"
                                                                                    name="chkViewCOB99Case" class="form-check-input" />
                                                                                <label for="chkViewSWPCase" class="form-check-label">SWP
                                                                                    Case</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-3">
                                                                            <div class="form-check">
                                                                                <input type="checkbox" id="chkViewFreedomSIP"
                                                                                    name="chkViewCOB99Case" class="form-check-input" />
                                                                                <label for="chkViewFreedomSIP"
                                                                                    class="form-check-label">Freedom SIP</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-4">
                                                                            <div class="form-check">
                                                                                <input type="radio" id="chkView99Years"
                                                                                    name="chkViewCOB99Case" class="form-check-input" />
                                                                                <label for="chkView99Years" class="form-check-label">OR
                                                                                    99 Years or more</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>

                                                    <!-- PAN Details -->
                                                    <div class="col-md-4 d-none">
                                                        <fieldset class="border p-2">
                                                            <legend>PAN Details</legend>
                                                            <div class="col-md-12">
                                                                <div class="d-flex">
                                                                    <label for="txtViewPan2" class="form-label" style="width: 120px;">PAN
                                                                        No</label>
                                                                    <input type="text" id="txtViewPan2" class="form-control"
                                                                        maxlength="10" />
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>

                                                    <!-- Action Buttons -->
                                                    <div class="col-md-12">
                                                        <fieldset class="border p-2">
                                                            <legend>Action </legend>
                                                            <!-- Action Buttons -->
                                                            <div class="col-md-12">
                                                                <div class="d-flex align-items-md-center flex-wrap gap-3">
                                                                    <button id="btnViewTransaction"
                                                                        class="btn btn-outline-primary">Modify</button>
                                                                    <button id="btnViewPrintAR" class="btn btn-outline-primary"
                                                                        disabled>Print Search AR</button>
                                                                    <button id="btnViewReset"
                                                                        class="btn btn-outline-primary">Reset</button>
                                                                    <button id="btnViewTranCancel" class="btn btn-outline-primary"
                                                                        disabled>Tran Cancel</button>
                                                                    <button id="btnViewViewLog"
                                                                        class="btn btn-outline-primary">View Log</button>
                                                                    <button id="btnViewExit"
                                                                        class="btn btn-outline-primary">Exit</button>
                                                                </div>
                                                            </div>
                                                        </fieldset>
                                                    </div>

                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Modal Structure -->
    <div class="modal fade" id="psmModalSchemeSearch" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Search Scheme</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="container-fluid common-scheme-form">

                        <!-- Search Row -->
                        <div class="row mb-3 align-items-center">
                            <div class="col-md-2 text-end">
                                <label for="psmModalSchemeSearch_txtSchemeName" class="form-label">Find</label>
                            </div>
                            <div class="col-md-6">
                                <input type="text" id="psmModalSchemeSearch_txtSchemeName" class="form-control"
                                    maxlength="250">
                            </div>
                            <div class="col-md-4 text-start mt-2">
                                <button id="psmModalSchemeSearch_btnSearch" class="btn btn-primary me-2">Go</button>
                                <button id="psmModalSchemeSearch_btnReset" class="btn btn-warning me-2">Reset</button>
                                <button id="psmModalSchemeSearch_btnExit" class="btn btn-danger"
                                    data-bs-dismiss="modal">Exit</button>
                            </div>
                            <div class="col-md-12 mt-2">
                                <center>
                                    <small class="text-muted">(Issuer/Mutual Fund OR Scheme Name OR Both)</small>
                                </center>
                            </div>
                        </div>

                        <!-- Table -->
                        <div class="card-body">
                            <div style="" class="mt-3 bg-white">
                                <table id="psmModalSchemeSearch_tbSchemeData" class="table table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th>SN</th>
                                            <th>SCH_CODE</th>
                                            <th>SCH_NAME</th>
                                            <th>SHORT_NAME</th>
                                            <th>NAME</th>
                                            <th>MUT_NAME</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td colspan="6" class="text-center">Search results will appear here</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Investor Master Search Modal -->
    <div class="modal fade" id="psmModelInvestorSearch" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Header -->
                <div class="modal-header">
                    <h5 class="modal-title">Investor Master Search</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Body -->
                <div class="modal-body">
                    <!-- Search Form -->
                    <div class="row g-3 mb-3">
                        <div class="col-md-2">
                            <label class="form-label">Type</label>
                            <select id="psmModelInvestorSearch_ddlType" class="form-select">
                                <option value="All" selected>All</option>
                                <option value="Client">Client</option>
                                <option value="Agent">Agent</option>
                            </select>
                        </div>

                        <div class="col-md-2">
                            <label class="form-label">Branch</label>
                            <select id="psmModelInvestorSearch_ddlBranch" class="form-select">
                                <option value="">Select</option>
                            </select>
                        </div>

                        <div class="col-md-2">
                            <label class="form-label">RM</label>
                            <select id="psmModelInvestorSearch_ddlRM" class="form-select">
                                <option value="">Select</option>
                            </select>
                        </div>

                        <div class="col-md-4">
                            <label class="form-label">Name</label>
                            <input type="text" id="psmModelInvestorSearch_txtInvestorName" maxlength="100"
                                autocomplete="off" class="form-control">
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">PAN</label>
                            <input type="text" id="psmModelInvestorSearch_txtPanNo" maxlength="10"
                                class="form-control text-uppercase" autocomplete="off">
                        </div>

                        <div class="col-md-2">
                            <label class="form-label">Mobile</label>
                            <input type="text" id="psmModelInvestorSearch_txtMobile" maxlength="10"
                                class="form-control">
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Phone</label>
                            <input type="text" id="psmModelInvestorSearch_txtPhone" maxlength="10" class="form-control">
                        </div>





                        <div class="col-md-3">
                            <label class="form-label">Address 1</label>
                            <textarea id="psmModelInvestorSearch_txtAddress1" maxlength="250" class="form-control"
                                rows="1"></textarea>
                        </div>

                        <div class="col-md-3">
                            <label class="form-label">Address 2</label>
                            <textarea id="psmModelInvestorSearch_txtAddress2" maxlength="250" class="form-control"
                                rows="1"></textarea>
                        </div>


                        <div class="col-md-2">
                            <label class="form-label">Client/Sub Broker Code</label>
                            <input type="text" id="psmModelInvestorSearch_txtClientSubBrokerCode" class="form-control">
                        </div>

                        <div class="col-md-2">
                            <label class="form-label">AH Code</label>
                            <input type="text" id="psmModelInvestorSearch_txtAHCode" class="form-control">
                        </div>

                        <div class="col-md-2">
                            <label class="form-label">Sort By</label>
                            <select id="psmModelInvestorSearch_ddlSort" class="form-select">
                                <option value="INVESTOR_NAME" selected>Name</option>
                                <option value="ADDRESS1">Address1</option>
                                <option value="ADDRESS2">Address2</option>
                                <option value="MOBILE">Mobile</option>
                                <option value="CITY_ID">City</option>
                            </select>
                        </div>

                        <div class="col-md-3">
                            <div class="mt-4">
                                <button id="psmModelInvestorSearch_btnSearch"
                                    class="btn btn-primary me-2">Search</button>
                                <button id="psmModelInvestorSearch_btnReset" class="btn btn-warning me-2">Reset</button>
                                <button id="psmModelInvestorSearch_btnExit" class="btn btn-danger"
                                    data-bs-dismiss="modal">Exit</button>
                            </div>
                        </div>

                    </div>

                    <!-- <div id="lblMessage" class="text-success"></div> -->

                    <!-- Grid -->
                    <div class="table-responsive" style="max-height: 450px;">
                        <table id="gvInvestor" class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Address 1</th>
                                    <th>Address 2</th>
                                    <th>City</th>
                                    <th>Branch</th>
                                    <th>Phone</th>
                                    <th>Mobile</th>
                                    <th>RM</th>
                                    <th>Account Status</th>
                                    <th>Pan</th>
                                    <th>Aadhar</th>
                                    <th>DOB</th>
                                    <th>AC. Hol.</th>
                                    <th>Business Code</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="14" class="text-center">Search results will appear here</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- No Records -->
                    <div id="divNoRec" class="d-none">
                        <h5 class="text-danger">No Records Found</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cross Channel Alert Modal -->
    <div class="modal fade" id="psmModalCrossChannel" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Header -->
                <div class="modal-header">
                    <h5 class="modal-title">Cross Channel Alert</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Body -->
                <div class="modal-body">
                    <!-- Message / Info -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <label id="psmCrossChannel_lblMessage" class="text-primary d-block"></label>
                        </div>
                    </div>

                    <!-- Grid -->
                    <div class="table-responsive" style="max-height: 400px; overflow-y: auto; width: 100%;">
                        <table id="psmCrossChannel_gv" class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 250px;">CLIENT_CODE</th>
                                    <th style="width: 250px;">CLIENT_NAME</th>
                                    <th style="width: 250px;">RM_NAME</th>
                                    <th style="width: 250px;">PAN</th>
                                    <th style="width: 250px;">EMAIL</th>
                                    <th style="width: 250px;">MOBILE</th>
                                    <th style="width: 250px;">BRANCH</th>
                                    <th style="width: 250px;">ZONE</th>
                                    <th style="width: 250px;">REGION</th>
                                    <th style="width: 250px;">CHANNEL</th>
                                    <th style="width: 250px;">REMARK</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="10" class="text-center">No data found</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- No Records -->
                    <div id="psmCrossChannel_divNoRec" class="d-none">
                        <h5 class="text-danger">No Records Found</h5>
                    </div>
                </div>

                <!-- Footer -->
                <div class="modal-footer justify-content-center">
                    <button id="psmCrossChannel_btnContinue" class="btn btn-primary btn-sm me-2">Continue</button>
                    <button id="psmCrossChannel_btnApproval" class="btn btn-primary btn-sm">Send Approval</button>

                    <!-- Hidden fields -->
                    <input type="hidden" id="psmCrossChannel_Hidden1">
                    <input type="hidden" id="psmCrossChannel_IsContinue">
                    <input type="hidden" id="psmCrossChannel_VehSCE">
                    <input type="hidden" id="psmCrossChannel_ModelId">
                    <input type="hidden" id="psmCrossChannel_VariantId">
                </div>

            </div>
        </div>
    </div>

    <!-- Investor Detail Modal -->
    <div class="modal fade" id="psmModalInvestorAddUpdate" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Header -->
                <div class="modal-header">
                    <h5 class="modal-title">Investor Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Body -->
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-md-6 d-none">
                            <label for="psmModalInvestorAddUpdate_txtInvCode" class="form-label">Investor Code</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtInvCode" maxlength="250"
                                class="form-control">
                        </div>

                        <div class="col-md-6 d-none">
                            <label for="psmModalInvestorAddUpdate_txtInvName" class="form-label">Investor Name</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtInvName" maxlength="250"
                                class="form-control">
                        </div>
                        <div class="col-md-5">
                            <label for="psmModalInvestorAddUpdate_txtAddress1" class="form-label">Address 1</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtAddress1" maxlength="250"
                                class="form-control">
                        </div>

                        <div class="col-md-5">
                            <label for="psmModalInvestorAddUpdate_txtAddress2" class="form-label">Address 2</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtAddress2" maxlength="250"
                                class="form-control">
                        </div>

                        <div class="col-md-2">
                            <label for="psmModalInvestorAddUpdate_txtPIN" class="form-label">PIN</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtPIN" maxlength="6" class="form-control">
                        </div>

                        <div class="col-md-6">
                            <label for="psmModalInvestorAddUpdate_txtEmail" class="form-label">Email</label>
                            <input type="email" id="psmModalInvestorAddUpdate_txtEmail" maxlength="150"
                                class="form-control">
                        </div>

                        <div class="col-md-3">
                            <label for="psmModalInvestorAddUpdate_txtPAN" class="form-label">PAN</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtPAN" maxlength="10"
                                class="form-control text-uppercase">
                        </div>

                        <div class="col-md-3">
                            <label for="psmModalInvestorAddUpdate_txtMobile" class="form-label">Mobile</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtMobile" maxlength="10"
                                class="form-control">
                        </div>

                        <div class="col-md-3">
                            <label for="psmModalInvestorAddUpdate_ddlCity" class="form-label">City</label>
                            <select id="psmModalInvestorAddUpdate_ddlCity" class="form-select">
                                <option value="">-- Select City --</option>
                            </select>
                        </div>

                        <div class="col-md-3">
                            <label for="psmModalInvestorAddUpdate_ddlState" class="form-label">State</label>
                            <select id="psmModalInvestorAddUpdate_ddlState" class="form-select">
                                <option value="">-- Select State --</option>
                            </select>
                        </div>

                        <div class="col-md-3">
                            <label for="psmModalInvestorAddUpdate_txtDOB" class="form-label">DOB</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtDOB" maxlength="10"
                                class="form-control">
                        </div>

                        <div class="col-md-3">
                            <label for="psmModalInvestorAddUpdate_txtAadhar" class="form-label">Aadhar</label>
                            <input type="text" id="psmModalInvestorAddUpdate_txtAadhar" maxlength="12"
                                class="form-control">
                        </div>

                    </div>
                </div>

                <!-- Footer -->
                <div class="modal-footer">
                    <button id="psmModalInvestorAddUpdate_btnUpdate" class="btn btn-primary">Update</button>
                    <button id="psmModalInvestorAddUpdate_btnExit" class="btn btn-secondary"
                        data-bs-dismiss="modal">Exit</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Duplicate Check Alert Modal -->
    <div class="modal fade" id="psmModalDuplicateCheck" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Header -->
                <div class="modal-header">
                    <h5 class="modal-title">Duplicate Check Alert</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Body -->
                <div class="modal-body">
                    <!-- Message / Info -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <label id="psmDuplicateCheck_lblMessage" class="text-primary d-block"></label>
                        </div>
                    </div>

                    <!-- Grid -->
                    <div class="table-responsive" style="max-height: 400px; overflow-y: auto; width: 100%;">
                        <table id="psmDuplicateCheck_gv" class="table table-hover">
                            <thead>
                                <tr>
                                    <th style="width: 250px;">CLIENT_CODE</th>
                                    <th style="width: 250px;">CLIENT_NAME</th>
                                    <th style="width: 250px;">RM_NAME</th>
                                    <th style="width: 250px;">PAN</th>
                                    <th style="width: 250px;">EMAIL</th>
                                    <th style="width: 250px;">MOBILE</th>
                                    <th style="width: 250px;">BRANCH</th>
                                    <th style="width: 250px;">ZONE</th>
                                    <th style="width: 250px;">REGION</th>
                                    <th style="width: 250px;">CHANNEL</th>
                                    <th style="width: 250px;">REMARK</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="10" class="text-center">No data found</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- No Records -->
                    <div id="psmDuplicateCheck_divNoRec" class="d-none">
                        <h5 class="text-danger">No Records Found</h5>
                    </div>
                </div>

                <!-- Footer -->
                <div class="modal-footer justify-content-center">
                    <button id="psmDuplicateCheck_btnContinue" class="btn btn-primary btn-sm me-2">Continue & Save</button>
                    <button id="psmDuplicateCheck_btnCancel" class="btn btn-primary btn-sm">Cancel</button>
                </div>

            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Pikaday/1.8.2/pikaday.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Pikaday/1.8.2/css/pikaday.min.css">


 
</body>

</html>