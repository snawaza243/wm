<div class="col-md-4">
    <label class="form-label">Select Scheme <span class="text-danger">*</span></label>
    <asp:DropDownList ID="ddlScheme" runat="server" CssClass="form-select" onchange="toggleFields()">
        <asp:ListItem Text="Select Pension Scheme" Value="" Selected="True"></asp:ListItem>

        <asp:ListItem Text="New Pension Scheme Tier 1" Value="OP#09971"></asp:ListItem>
        <asp:ListItem Text="New Pension Scheme Tier 2" Value="OP#09972"></asp:ListItem>
        <asp:ListItem Text="New Pension Scheme Tier 1+2" Value="OP#09973"></asp:ListItem>
    </asp:DropDownList>
</div>

<script type="text/javascript">
    function toggleSchemaFields() {
        // Get the dropdown and textboxes by their IDs
        var ddlScheme = document.getElementById('<%= ddlScheme.ClientID %>');
        var txtAmountReceivedTire1 = document.getElementById('<%= txtAmountReceivedTire1.ClientID %>');
        var txtAmountReceivedTire2 = document.getElementById('<%= txtAmountReceivedTire2.ClientID %>');

        // Get the selected value of the dropdown
        var selectedValue = ddlScheme.value;

        // Enable or disable textboxes based on the selected value
        if (selectedValue === 'OP#09971') {
            txtAmountReceivedTire1.disabled = false; // Enable Tier 1 field
            txtAmountReceivedTire2.disabled = true;  // Disable Tier 2 field
        } else if (selectedValue === 'OP#09972') {
            txtAmountReceivedTire1.disabled = true;  // Disable Tier 1 field
            txtAmountReceivedTire2.disabled = false; // Enable Tier 2 field
        } else if (selectedValue === 'OP#09973') {
            txtAmountReceivedTire1.disabled = false; // Enable Tier 1 field
            txtAmountReceivedTire2.disabled = false; // Enable Tier 2 field
        } else {
            // Disable both fields for any other or default selection
            txtAmountReceivedTire1.disabled = true;
            txtAmountReceivedTire2.disabled = true;
        }
    }

    // Call toggleFields on page load to set the initial state
    document.addEventListener("DOMContentLoaded", function () {
        toggleSchemaFields();
    });

    // Add an event listener to call toggleFields when the dropdown value changes
    document.getElementById('<%= ddlScheme.ClientID %>').addEventListener('change', toggleSchemaFields);
</script>
