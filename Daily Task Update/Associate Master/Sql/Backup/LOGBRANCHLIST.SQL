create or replace PROCEDURE PSM_GET_BRANCHES (
    P_LOGIN     VARCHAR2,
    P_ROLEID    VARCHAR2,
    P_BRANCHES OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN P_BRANCHES FOR    
    SELECT BR.* FROM BRANCH_MASTER BR 
    INNER JOIN USERDETAILS_JI UJ ON BR.BRANCH_CODE = UJ.BRANCH_ID
    WHERE UJ.LOGIN_ID = P_LOGIN
    AND UJ.ROLE_ID = P_ROLEID
    
    ;
END;